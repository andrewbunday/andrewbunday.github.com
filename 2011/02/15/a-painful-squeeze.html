<!DOCTYPE html>
<html>
    <head>
        <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>Webserver <small>A Painful Squeeze</small> / Andy Bunday</title>

    <link rel="shortcut icon" href="/assets/img/favicon.ico"/>
    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="/assets/css/ubuntu.min.css"/>
    <link rel="stylesheet" type="text/css" href="/assets/css/custom.css"/>
    <link rel="stylesheet" type="text/css" href="/assets/css/pygments.css"/>
    <link rel="alternate" type="application/rss+xml" title="RSS Feed for andrewbunday.co.uk" href="/rss.xml" />

    <script type="text/javascript" src="/assets/js/jquery.js"></script>
    <script src="/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>

    <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-772003-4']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

    </head>
    <body>
        <div class="page">
            <div class="navbar navbar-static-top">
    <div class="navbar-inner main-navbar-inner">
        <div class="container-fluid main-navbar">
            <a class="btn btn-navbar pull-right" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
           </a>

            <div class="nav-collapse pull-right">
                <ul class="nav">
                    <li><a href="/">Home</a></li>
                    <li><a href="/about.html">About</a></li>
                    <li><a href="/posts.html">Posts</a></li>
                    <li><a href="https://github.com/andrewbunday" target="_blank">Github</a></li>
                    <li><a href="http://www.linkedin.com/in/andrewbunday" target="_blank">LinkedIn</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>

            <!-- <div class="row"> -->
    <div class="page-header">
        <h3>Andrew Bunday <small>tech notes</small></h3>
    </div>


            <div class="row" id="breadcrumb">
    <ul class="breadcrumb">
      <li><a href="/">home</a> <span class="divider">/</span></li>
      
        <li><a href="/posts.html">posts</a> <span class="divider">/</span></li>
      
      
        <li class="active">webserver <small>a painful squeeze</small></li>
      
    </ul>
</div>


            <div class="container-fluid main-content">
                <div class="row-fluid">
                    <div class="span12 span12-tablet">
                        <div class="row-fluid">
                            <div class="span12">
                                <h1>Webserver <small>A Painful Squeeze</small></h1>
                            </div>
                        </div>
                        <div class="row-fluid">
                            <div class="span8">
                                <p class="muted">Tue 15 Feb 2011</p>
                            </div>
                        </div>
                        <div class="row-fluid">
                            <p><p>Tonight I finally got around to completing the upgrade of the server for this
site from Lenny to Squeeze. As upgrades go it was relatively painless. Well
painless in the same way that you can describe that having your arm ripped off
is painless when its then used as club to bludgeon you to death.</p>

<p>There was a time, as little as 10years ago (now that does scare the bejebus out
of me) when both my knowledge of operating a linux system was, well best
described as on a par with the knowledge that hedgehogs seem to have that roads
are a bad idea but they can’t quite put their finger on why. Oh and the other
reason any kind of upgrade was difficult was because most of the software I had
to hand was shit.</p>

<p>Redhat 8, oh how I loathed you. Particularly the horrific memory leak you had on
my system. And the craptacular gnome theme which you…. oh fedora still uses
it….</p>

<p>Digression aside, the upgrade from Lenny to Squeeze went for the most part
without any hitches. The system remained up, and ssh access was maintained. The
web server restarted successfully and I was left with only two components which
no longer worked.</p>

<p>The first of those was the ftp daemon I run to make uploading and retrieving
multiple files easy. Strangely during the upgrade the package was lost which
meant a simple re-install and ftp was back online.</p>

<p>Then we have MySQL.</p>

<h2 id="mysql">MySQL</h2>

<p>First up you need to remember that the version of mysql changed from 4.x to 5.x
between Lenny and Squeeze. This means that they fucked up the structure in any
existing tables you might be trying to migrate over.</p>

<p>At first I tried to run the upgrade scripts and do everything in what I
perceived to be the ‘right’ way.</p>

<p>But they didn’t work. Or at least didn’t work how the documentation described
they should.</p>

<p>So I gave up and did what I’d do again in the future, which is to purge the
database and start with a fresh install of mysql. Its then easy days to simply
take your database backup and pop it back into the server.</p>

<h2 id="the-moral">The Moral</h2>

<p>Is there a moral to this story and my very long winded rant? Well yes of course
there is or I wouldn’t have made a header for it. Simply put, don’t be afraid of
upgrades or doing things that you haven’t before. The worst that can happen to
you is that you loose everything and have to start again from scratch.</p>

<p>But also hedge your bets and make backups of everything. I used **WP-DBManager
**to mail me periodic backups of my wordpress db which meant that I had the
security of knowing that if everything did go tits up that I’d probably be OK.</p>

<p>A&gt;</p>
</p>
                        </div>
                    </div>
                    <!-- <div class="span3 hidden-phone hidden-tablet">
                        <ul class="thumbnails pull-right hidden-800">
    <li class="span12">
        <div class="thumbnail avatar">
            <img src="/assets/img/avatar.jpg" alt>
            <h4>About Me</h4>
            <h5><a href="/about.html">Andrew Bunday</a></h5>
            <p>I'm a VFX technologist working London where I apply the majority of
                   my time solving problems related to Pipeline and Systems development.</p>
            <p>If you want to get in touch, please give me a shout via one of the
               links at the bottom of the page.</p>
        </a>
    </li>
</ul>

                    </div> -->
                </div>
            </div>
            <hr>

<div class="page-header">
  <h4>&copy; 2012. All rights reserved <small>All comments are my own and feel free to contact me via the links below.</small></h4>
</div>

<!-- <div class="row-fluid post-contact-thumbs">
    <div class="span4">
        <a href="https://twitter.com/itwat" target="_blank">
            <img src="/assets/img/twitter-bird-blue-on-white.png" alt="">
        </a>
    </div>
    <div class="span4">
        <a href="http://github.com/andrewbunday" target="_blank">
            <img src="/assets/img/octocat.png" alt="">
        </a>
    </div>
    <div class="span4">
        <a href="http://www.linkedin.com/in/andrewbunday" target="_blank">
            <img src="/assets/img/LinkedIn_Logo200x200.png" alt="">
        </a>
    </div>
</div> -->


        </div>
     </body>
</html>


